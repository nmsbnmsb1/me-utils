{"version":3,"file":"index.js","sources":["../src/CryptoUtils.ts","../src/ObjectUtils.ts","../src/FileUtils.ts","../src/NetUtils.ts","../src/StringUtils.ts","../src/ThreadUtils.ts","../src/TimeUtils.ts"],"sourcesContent":["import crypto from 'crypto';\nimport { v1, v4 } from 'uuid';\n\nexport class CryptoUtils {\n\t/**\n\t * 生成随机字符串\n\t * https://github.com/maichong/string-random\n\t */\n\tprivate static chars = ['0123456789', 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz', '~!@#$%^*()_+-=[]{}|;:,./<>?'];\n\tpublic static randomString(\n\t\tlength: number = 8,\n\t\toptions: true | string | { numbers?: boolean | string; letters?: boolean | string; specials?: boolean | string } = {}\n\t) {\n\t\tlet chars = '';\n\t\tlet result = '';\n\n\t\tif (options === true) {\n\t\t\tchars = CryptoUtils.chars.join('');\n\t\t} else if (typeof options == 'string') {\n\t\t\tchars = options;\n\t\t} else {\n\t\t\tif (options.numbers !== false) chars += typeof options.numbers == 'string' ? options.numbers : CryptoUtils.chars[0];\n\t\t\tif (options.letters !== false) chars += typeof options.letters == 'string' ? options.letters : CryptoUtils.chars[1];\n\t\t\tif (options.specials) chars += typeof options.specials == 'string' ? options.specials : CryptoUtils.chars[2];\n\t\t}\n\n\t\twhile (length > 0) {\n\t\t\tlength--;\n\t\t\tresult += chars[Math.floor(Math.random() * chars.length)];\n\t\t}\n\t\treturn result;\n\t}\n\n\t//\n\tpublic static md5(bytes: any, encoding: any = 'hex') {\n\t\tif (Array.isArray(bytes)) {\n\t\t\tbytes = Buffer.from(bytes);\n\t\t} else if (typeof bytes === 'string') {\n\t\t\tbytes = Buffer.from(bytes, 'utf8');\n\t\t}\n\t\t//\n\t\treturn crypto.createHash('md5').update(bytes).digest(encoding);\n\t}\n\tpublic static sha256(bytes: any, encoding: any = 'hex') {\n\t\tif (Array.isArray(bytes)) {\n\t\t\tbytes = Buffer.from(bytes);\n\t\t} else if (typeof bytes === 'string') {\n\t\t\tbytes = Buffer.from(bytes, 'utf8');\n\t\t}\n\t\t//\n\t\treturn crypto.createHash('sha256').update(bytes).digest(encoding);\n\t}\n\tpublic static uuid(version: string) {\n\t\tif (version === 'v1') return v1();\n\t\treturn v4();\n\t}\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking export functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\n// https://github.com/thinkjs/think-helper#43d7b132a47248ebb403a01901936c480906e8a0\n// The MIT License(MIT)\n\n// Copyright(c) 2017 ThinkJS\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files(the \"Software\"), to deal\n//     in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n//     FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n//     OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n\nexport class ObjectUtils {\n\tpublic static objectToString(o: any) {\n\t\treturn Object.prototype.toString.call(o);\n\t}\n\n\tpublic static hasOwn(obj: any, key: any) {\n\t\treturn Object.prototype.hasOwnProperty.call(obj, key);\n\t}\n\n\tpublic static isArray(arg: any) {\n\t\tif (Array.isArray) {\n\t\t\treturn Array.isArray(arg);\n\t\t}\n\t\treturn ObjectUtils.objectToString(arg) === '[object Array]';\n\t}\n\n\tpublic static isBoolean(arg: any) {\n\t\treturn typeof arg === 'boolean';\n\t}\n\n\tpublic static isNull(arg: any) {\n\t\treturn arg === null;\n\t}\n\n\tpublic static isNullOrUndefined(arg: any) {\n\t\treturn arg == null || arg == undefined;\n\t}\n\n\tpublic static isNumber(arg: any) {\n\t\treturn typeof arg === 'number';\n\t}\n\n\tpublic static isInt(value: any) {\n\t\tif (isNaN(value) || ObjectUtils.isString(value)) {\n\t\t\treturn false;\n\t\t}\n\t\tvar x = parseFloat(value);\n\t\treturn (x | 0) === x;\n\t}\n\n\tpublic static isString(arg: any) {\n\t\treturn typeof arg === 'string';\n\t}\n\n\tpublic static isSymbol(arg: any) {\n\t\treturn typeof arg === 'symbol';\n\t}\n\n\tpublic static isUndefined(arg: any) {\n\t\treturn arg === void 0;\n\t}\n\n\tpublic static isRegExp(re: any) {\n\t\treturn ObjectUtils.objectToString(re) === '[object RegExp]';\n\t}\n\n\tpublic static isObject(arg: any) {\n\t\treturn typeof arg === 'object' && arg !== null;\n\t}\n\n\tpublic static isTrueObject(obj: any) {\n\t\treturn toString.call(obj) === '[object Object]';\n\t}\n\n\tpublic static isDate(d: any) {\n\t\treturn ObjectUtils.objectToString(d) === '[object Date]';\n\t}\n\n\tpublic static isError(e: any) {\n\t\treturn ObjectUtils.objectToString(e) === '[object Error]' || e instanceof Error;\n\t}\n\n\tpublic static isFunction(arg: any) {\n\t\treturn typeof arg === 'function';\n\t}\n\n\tpublic static isAsyncFcuntion(fn: any) {\n\t\tconst AsyncFunction = Object.getPrototypeOf(async () => {}).constructor;\n\t\treturn fn instanceof AsyncFunction;\n\t}\n\n\tpublic static isPrimitive(arg: any) {\n\t\treturn (\n\t\t\targ === null ||\n\t\t\ttypeof arg === 'boolean' ||\n\t\t\ttypeof arg === 'number' ||\n\t\t\ttypeof arg === 'string' ||\n\t\t\ttypeof arg === 'symbol' || // ES6 symbol\n\t\t\ttypeof arg === 'undefined'\n\t\t);\n\t}\n\n\tpublic static isBuffer(arg: any) {\n\t\treturn Buffer.isBuffer(arg);\n\t}\n\n\t// 把一个方法Promise化\n\tpublic static promisify(fn: any, receiver: any) {\n\t\treturn (...args: any) => {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tfn.apply(receiver, [\n\t\t\t\t\t...args,\n\t\t\t\t\t(err: any, res: any) => {\n\t\t\t\t\t\treturn err ? reject(err) : resolve(res);\n\t\t\t\t\t},\n\t\t\t\t]);\n\t\t\t});\n\t\t};\n\t}\n\n\tpublic static extend(target = {}, ...args: any) {\n\t\tlet i = 0;\n\t\tconst length = args.length;\n\t\tlet options;\n\t\tlet name;\n\t\tlet src;\n\t\tlet copy;\n\t\tif (!target) {\n\t\t\ttarget = ObjectUtils.isArray(args[0]) ? [] : {};\n\t\t}\n\t\tfor (; i < length; i++) {\n\t\t\toptions = args[i];\n\t\t\tif (!options) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = target[name];\n\t\t\t\tcopy = options[name];\n\t\t\t\tif (src && src === copy) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (ObjectUtils.isArray(copy)) {\n\t\t\t\t\ttarget[name] = ObjectUtils.extend([], copy);\n\t\t\t\t} else if (ObjectUtils.isTrueObject(copy)) {\n\t\t\t\t\ttarget[name] = ObjectUtils.extend(src && ObjectUtils.isTrueObject(src) ? src : {}, copy);\n\t\t\t\t} else {\n\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn target;\n\t}\n\n\tpublic static isTrueEmpty(obj: any) {\n\t\tif (obj === undefined || obj === null || obj === '') return true;\n\t\tif (ObjectUtils.isNumber(obj) && isNaN(obj)) return true;\n\t\treturn false;\n\t}\n\n\tpublic static isEmpty(obj: any) {\n\t\tif (ObjectUtils.isTrueEmpty(obj)) return true;\n\t\tif (ObjectUtils.isRegExp(obj)) {\n\t\t\treturn false;\n\t\t} else if (ObjectUtils.isDate(obj)) {\n\t\t\treturn false;\n\t\t} else if (ObjectUtils.isError(obj)) {\n\t\t\treturn false;\n\t\t} else if (ObjectUtils.isArray(obj)) {\n\t\t\treturn obj.length === 0;\n\t\t} else if (ObjectUtils.isString(obj)) {\n\t\t\treturn obj.length === 0;\n\t\t} else if (ObjectUtils.isNumber(obj)) {\n\t\t\treturn obj === 0;\n\t\t} else if (ObjectUtils.isBoolean(obj)) {\n\t\t\treturn !obj;\n\t\t} else if (ObjectUtils.isObject(obj)) {\n\t\t\tfor (const key in obj) {\n\t\t\t\treturn false && key; // only for eslint\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tpublic static defer() {\n\t\tconst deferred: any = {};\n\t\tdeferred.promise = new Promise((resolve, reject) => {\n\t\t\tdeferred.resolve = resolve;\n\t\t\tdeferred.reject = reject;\n\t\t});\n\t\treturn deferred;\n\t}\n\n\tpublic static omit(obj: any, props: any[] | string) {\n\t\tif (ObjectUtils.isString(props)) {\n\t\t\tprops = (props as string).split(',');\n\t\t}\n\t\tconst keys = Object.keys(obj);\n\t\tconst result = {};\n\t\tkeys.forEach((item) => {\n\t\t\tif (props.indexOf(item) === -1) {\n\t\t\t\tresult[item] = obj[item];\n\t\t\t}\n\t\t});\n\t\treturn result;\n\t}\n}\n","// https://github.com/thinkjs/think-helper#43d7b132a47248ebb403a01901936c480906e8a0\n// The MIT License(MIT)\n\n// Copyright(c) 2017 ThinkJS\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files(the \"Software\"), to deal\n//     in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n//     FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n//     OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n\nimport path from 'path';\nimport fs from 'fs';\nimport { ObjectUtils } from './ObjectUtils';\n\nconst fsRmdir = ObjectUtils.promisify(fs.rmdir, fs);\nconst fsUnlink = ObjectUtils.promisify(fs.unlink, fs);\nconst fsReaddir = ObjectUtils.promisify(fs.readdir, fs);\n\nexport class FileUtils {\n\tpublic static isExist(dir: string) {\n\t\tdir = path.normalize(dir);\n\t\ttry {\n\t\t\tfs.accessSync(dir, fs.constants.R_OK);\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tpublic static isFile(filePath: string) {\n\t\tif (!FileUtils.isExist(filePath)) return false;\n\t\ttry {\n\t\t\tconst stat = fs.statSync(filePath);\n\t\t\treturn stat.isFile();\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tpublic static isDirectory(filePath: string) {\n\t\tif (!FileUtils.isExist(filePath)) return false;\n\t\ttry {\n\t\t\tconst stat = fs.statSync(filePath);\n\t\t\treturn stat.isDirectory();\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tpublic static chmod(p: fs.PathLike, mode: string | number) {\n\t\ttry {\n\t\t\tfs.chmodSync(p, mode);\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tpublic static mkdir(dir: string, mode?: string | number): boolean {\n\t\tif (FileUtils.isExist(dir)) {\n\t\t\tif (mode) return FileUtils.chmod(dir, mode);\n\t\t\treturn true;\n\t\t}\n\t\tconst pp = path.dirname(dir);\n\t\tif (FileUtils.isExist(pp)) {\n\t\t\ttry {\n\t\t\t\tfs.mkdirSync(dir, mode);\n\t\t\t\tif (mode) FileUtils.chmod(dir, mode);\n\t\t\t\treturn true;\n\t\t\t} catch (e) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tif (FileUtils.mkdir(pp, mode)) return FileUtils.mkdir(dir, mode);\n\t\treturn false;\n\t}\n\n\tpublic static getdirFiles(dir: string, prefix = '') {\n\t\tdir = path.normalize(dir);\n\t\tif (!fs.existsSync(dir)) return [];\n\t\tconst files = fs.readdirSync(dir);\n\t\tlet result: any[] = [];\n\t\tfiles.forEach((item) => {\n\t\t\tconst currentDir = path.join(dir, item);\n\t\t\tconst stat = fs.statSync(currentDir);\n\t\t\tif (stat.isFile()) {\n\t\t\t\tresult.push(path.join(prefix, item));\n\t\t\t} else if (stat.isDirectory()) {\n\t\t\t\tconst cFiles = FileUtils.getdirFiles(currentDir, path.join(prefix, item));\n\t\t\t\tresult = result.concat(cFiles);\n\t\t\t}\n\t\t});\n\t\treturn result;\n\t}\n\n\tpublic static rmdir(p: string, reserve: any = false) {\n\t\tif (!FileUtils.isDirectory(p)) return Promise.resolve();\n\t\treturn fsReaddir(p).then((files: any) => {\n\t\t\tconst promises = files.map((item: any) => {\n\t\t\t\tconst filepath = path.join(p, item);\n\t\t\t\tif (FileUtils.isDirectory(filepath)) return FileUtils.rmdir(filepath, false);\n\t\t\t\treturn fsUnlink(filepath);\n\t\t\t});\n\t\t\treturn Promise.all(promises).then(() => {\n\t\t\t\tif (!reserve) return fsRmdir(p);\n\t\t\t});\n\t\t});\n\t}\n\n\tpublic static rm(p: string, reserve: any = false) {\n\t\tif (FileUtils.isDirectory(p)) return Promise.resolve();\n\t\treturn fsUnlink(p).then(() => {\n\t\t\tif (!reserve) {\n\t\t\t\tlet dirname = path.dirname(p);\n\t\t\t\tlet dirs = fs.readdirSync(dirname);\n\t\t\t\tif (dirs.length <= 0) return fsUnlink(dirname);\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic static writeFile(p: string, data: any, options?: fs.WriteFileOptions) {\n\t\tlet mode;\n\t\tif (options && typeof options !== 'string' && options.mode !== undefined) mode = options.mode;\n\t\tFileUtils.mkdir(path.dirname(p), mode);\n\t\tfs.writeFileSync(p, data, options);\n\t}\n\n\tpublic static readFile(p: string, options?: { encoding?: null; flag?: string }) {\n\t\tif (FileUtils.isExist(p)) {\n\t\t\tlet buffer = fs.readFileSync(p, options);\n\t\t\treturn buffer;\n\t\t}\n\t\treturn '';\n\t}\n\n\tpublic static readTxtFile(p: string, options?: { encoding?: null; flag?: string }) {\n\t\t// if (FileUtils.isExist(p)) {\n\t\t//   let buffer = fs.readFileSync(p, options);\n\t\t//   return buffer.toString();\n\t\t// }\n\t\t// return '';\n\t\tlet content = FileUtils.readFile(p, options);\n\t\tif (content) return content.toString();\n\t\treturn content;\n\t}\n}\n","// https://github.com/thinkjs/think-helper#43d7b132a47248ebb403a01901936c480906e8a0\n// The MIT License(MIT)\n\n// Copyright(c) 2017 ThinkJS\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files(the \"Software\"), to deal\n//     in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n//     FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n//     OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n\nimport net from 'net';\n\nexport class NetUtils {\n\tpublic static isIP = net.isIP;\n\tpublic static isIPv4 = net.isIPv4;\n\tpublic static isIPv6 = net.isIPv6;\n}\n","// https://github.com/thinkjs/think-helper#43d7b132a47248ebb403a01901936c480906e8a0\n// The MIT License(MIT)\n\n// Copyright(c) 2017 ThinkJS\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files(the \"Software\"), to deal\n//     in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n//     FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n//     OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n\nconst numberReg = /^((-?(\\d+\\.|\\d+|\\.\\d)\\d*(?:e[+-]?\\d*(?:\\d?\\.?|\\.?\\d?)\\d*)?)|(0[0-7]+)|(0x[0-9a-f]+))$/i;\n\nexport class StringUtils {\n\tpublic static camelCase(str: string) {\n\t\tif (str.indexOf('_') > -1) {\n\t\t\tstr = str.replace(/_(\\w)/g, (a, b) => {\n\t\t\t\treturn b.toUpperCase();\n\t\t\t});\n\t\t}\n\t\treturn str;\n\t}\n\n\tpublic static snakeCase(str: string) {\n\t\treturn str.replace(/([^A-Z])([A-Z])/g, function ($0, $1, $2) {\n\t\t\treturn $1 + '_' + $2.toLowerCase();\n\t\t});\n\t}\n\n\tpublic static isNumberString(obj: string) {\n\t\tif (!obj) return false;\n\t\treturn numberReg.test(obj);\n\t}\n\n\t// public static escapeHtml(str: string) {\n\t//     return (str + '').replace(/[<>'\"]/g, a => {\n\t//         switch (a) {\n\t//             case '<':\n\t//                 return '&lt;';\n\t//             case '>':\n\t//                 return '&gt;';\n\t//             case '\"':\n\t//                 return '&quote;';\n\t//             case '\\'':\n\t//                 return '&#39;';\n\t//         }\n\t//     });\n\t// }\n}\n","// https://github.com/thinkjs/think-helper#43d7b132a47248ebb403a01901936c480906e8a0\n// The MIT License(MIT)\n\n// Copyright(c) 2017 ThinkJS\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files(the \"Software\"), to deal\n//     in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n//     FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n//     OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n\nimport cluster from 'cluster';\n\nexport class ThreadUtils {\n\tpublic static isMaster = cluster.isMaster;\n}\n","// https://github.com/thinkjs/think-helper#43d7b132a47248ebb403a01901936c480906e8a0\n// The MIT License(MIT)\n\n// Copyright(c) 2017 ThinkJS\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files(the \"Software\"), to deal\n//     in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n//     FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n//     OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n\nimport { ObjectUtils } from './ObjectUtils';\nimport ms from 'ms';\n\nexport class TimeUtils {\n\tpublic static timeout(time: number = 1000) {\n\t\treturn new Promise((resolve) => {\n\t\t\tsetTimeout(resolve, time);\n\t\t});\n\t}\n\n\tpublic static async sleep(time: number) {\n\t\tawait new Promise((resolve) => setTimeout(resolve, time));\n\t}\n\n\tpublic static datetime(date: Date | string = new Date(), format: string) {\n\t\tif (date && ObjectUtils.isString(date)) {\n\t\t\tconst dateString = date as string;\n\t\t\tdate = new Date(Date.parse(dateString));\n\n\t\t\tif (isNaN(date.getTime()) && !format) {\n\t\t\t\tformat = dateString;\n\t\t\t\tdate = new Date();\n\t\t\t}\n\t\t}\n\t\tformat = format || 'YYYY-MM-DD HH:mm:ss';\n\n\t\tconst fn = (d: number) => {\n\t\t\treturn ('0' + d).slice(-2);\n\t\t};\n\n\t\tconst d = new Date(date);\n\t\tconst formats = {\n\t\t\tYYYY: d.getFullYear(),\n\t\t\tMM: fn(d.getMonth() + 1),\n\t\t\tDD: fn(d.getDate()),\n\t\t\tHH: fn(d.getHours()),\n\t\t\tmm: fn(d.getMinutes()),\n\t\t\tss: fn(d.getSeconds()),\n\t\t};\n\n\t\treturn format.replace(/([a-z])\\1+/gi, (a) => {\n\t\t\treturn formats[a] || a;\n\t\t});\n\t}\n\n\tpublic static ms(time: any) {\n\t\tif (typeof time === 'number') return time;\n\t\tconst result = ms(time);\n\t\tif (result === undefined) {\n\t\t\tthrow new Error(`ms('${time}') result is undefined`);\n\t\t}\n\t\treturn result;\n\t}\n}\n"],"names":["crypto","v1","v4","fs","path","net","cluster","ms"],"mappings":"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"}