{"version":3,"file":"index.js","sources":["../src/CryptoUtils.ts","../src/FileUtils.ts","../src/NetUtils.ts","../src/ObjectUtils.ts","../src/StringUtils.ts","../src/ThreadUtils.ts","../src/TimeUtils.ts"],"sourcesContent":["import { md5 } from 'js-md5';\nimport { sha256 } from 'js-sha256';\nimport { v1, v4 } from 'uuid';\n\n/**\n * 生成随机字符串\n * https://github.com/maichong/string-random\n */\n// biome-ignore format: 分开列出\nconst CHARS = [\n\t'0123456789',\n\t'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz',\n\t'~!@#$%^*()_+-=[]{}|;:,./<>?',\n];\n\nexport const CryptoUtils = {\n\trandomString(\n\t\tlength = 8,\n\t\toptions:\n\t\t\t| true\n\t\t\t| string\n\t\t\t| {\n\t\t\t\t\tnumbers?: boolean | string;\n\t\t\t\t\tletters?: boolean | string;\n\t\t\t\t\tspecials?: boolean | string;\n\t\t\t  } = {}\n\t) {\n\t\tlet chars = '';\n\t\tlet result = '';\n\n\t\tif (options === true) {\n\t\t\tchars = CHARS.join('');\n\t\t} else if (typeof options === 'string') {\n\t\t\tchars = options;\n\t\t} else {\n\t\t\tif (options.numbers !== false) chars += typeof options.numbers === 'string' ? options.numbers : CHARS[0];\n\t\t\tif (options.letters !== false) chars += typeof options.letters === 'string' ? options.letters : CHARS[1];\n\t\t\tif (options.specials) chars += typeof options.specials === 'string' ? options.specials : CHARS[2];\n\t\t}\n\n\t\twhile (length > 0) {\n\t\t\tlength--;\n\t\t\tresult += chars[Math.floor(Math.random() * chars.length)];\n\t\t}\n\t\treturn result;\n\t},\n\n\t//\n\tmd5(bytes: string | number[] | ArrayBuffer | Uint8Array, encoding = 'hex') {\n\t\t// if (Array.isArray(bytes)) {\n\t\t// \tbytes = Buffer.from(bytes);\n\t\t// } else if (typeof bytes === 'string') {\n\t\t// \tbytes = Buffer.from(bytes, 'utf8');\n\t\t// }\n\t\t// return crypto.createHash('md5').update(bytes).digest(encoding);\n\t\treturn md5(bytes);\n\t},\n\tsha256(bytes: string | number[] | ArrayBuffer | Uint8Array, encoding = 'hex') {\n\t\t// if (Array.isArray(bytes)) {\n\t\t// \tbytes = Buffer.from(bytes);\n\t\t// } else if (typeof bytes === 'string') {\n\t\t// \tbytes = Buffer.from(bytes, 'utf8');\n\t\t// }\n\t\t// return crypto.createHash('sha256').update(bytes).digest(encoding);\n\t\treturn sha256(bytes);\n\t},\n\n\t//\n\tuuid(options?: {\n\t\tversion?: string;\n\t\tremoveDash?: boolean;\n\t\tlowerCase?: boolean;\n\t}) {\n\t\tconst ver = options?.version || 'v4';\n\t\tlet id = '';\n\t\tif (ver === 'v1') id = v1();\n\t\telse id = v4();\n\t\t//\n\t\tif (options?.removeDash === true) id = id.replace(/\\-/g, '');\n\t\tif (options?.lowerCase === true) id = id.toLowerCase();\n\t\t//\n\t\treturn id;\n\t},\n};\n","import type fs from 'node:fs';\nimport fsPromises from 'node:fs/promises';\nimport path from 'node:path';\n\nexport const FileUtils = {\n\t//获取文件类型\n\tasync getFileType(\n\t\tp: string,\n\t\tresolveSymlink = false\n\t): Promise<\n\t\t| 'not-exist'\n\t\t| 'symlink'\n\t\t| 'symlink-not-exist'\n\t\t| 'symlink-file'\n\t\t| 'symlink-directory'\n\t\t| 'symlink-socket'\n\t\t| 'symlink-fifo'\n\t\t| 'symlink-character-device'\n\t\t| 'symlink-block-device'\n\t\t| 'symlink-unknown'\n\t\t| 'file'\n\t\t| 'directory'\n\t\t| 'socket'\n\t\t| 'fifo'\n\t\t| 'character-device'\n\t\t| 'block-device'\n\t\t| 'unknown'\n\t> {\n\t\ttry {\n\t\t\tconst stats = await fsPromises.lstat(p);\n\n\t\t\t// 如果是符号链接\n\t\t\tif (stats.isSymbolicLink()) {\n\t\t\t\tif (!resolveSymlink) return 'symlink';\n\t\t\t\t// 如果需要跟踪符号链接，获取目标文件的信息\n\t\t\t\ttry {\n\t\t\t\t\tconst targetStats = await fsPromises.stat(p);\n\t\t\t\t\tif (targetStats.isFile()) return 'symlink-file';\n\t\t\t\t\tif (targetStats.isDirectory()) return 'symlink-directory';\n\t\t\t\t\tif (targetStats.isSocket()) return 'symlink-socket';\n\t\t\t\t\tif (targetStats.isFIFO()) return 'symlink-fifo';\n\t\t\t\t\tif (targetStats.isCharacterDevice()) return 'symlink-character-device';\n\t\t\t\t\tif (targetStats.isBlockDevice()) return 'symlink-block-device';\n\t\t\t\t\treturn 'symlink-unknown';\n\t\t\t\t} catch (err) {\n\t\t\t\t\tif (err.code === 'ENOENT') return 'symlink-not-exist';\n\t\t\t\t\tthrow err;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// 如果不是符号链接，直接返回文件类型\n\n\t\t\tif (stats.isFile()) return 'file';\n\t\t\tif (stats.isDirectory()) return 'directory';\n\t\t\tif (stats.isSocket()) return 'socket';\n\t\t\tif (stats.isFIFO()) return 'fifo';\n\t\t\tif (stats.isCharacterDevice()) return 'character-device';\n\t\t\tif (stats.isBlockDevice()) return 'block-device';\n\t\t\treturn 'unknown';\n\t\t} catch (err) {\n\t\t\tif (err.code === 'ENOENT') return 'not-exist';\n\t\t\tthrow err;\n\t\t}\n\t},\n\tasync isSymLink(p: string): Promise<boolean | null> {\n\t\tlet fileType = await FileUtils.getFileType(p, false);\n\t\tif (fileType === 'not-exist') return null;\n\t\tif (fileType === 'symlink') return true;\n\t\treturn false;\n\t},\n\tasync isFile(p: string, resolveSymlink = true): Promise<boolean | null> {\n\t\tlet fileType = await FileUtils.getFileType(p, true);\n\t\tif (fileType === 'not-exist') return null;\n\t\tif (fileType === 'symlink-not-exist') return resolveSymlink ? null : false;\n\t\tif (fileType === 'file') return true;\n\t\t//biome-ignore lint/complexity/noUselessTernary:\n\t\tif (fileType === 'symlink-file') return resolveSymlink ? true : false;\n\t\treturn false;\n\t},\n\tasync isDirectory(p: string, resolveSymlink = true): Promise<boolean | null> {\n\t\tlet fileType = await FileUtils.getFileType(p, true);\n\t\tif (fileType === 'not-exist') return null;\n\t\tif (fileType === 'symlink-not-exist') return resolveSymlink ? null : false;\n\t\tif (fileType === 'directory') return true;\n\t\t//biome-ignore lint/complexity/noUselessTernary:\n\t\tif (fileType === 'symlink-directory') return resolveSymlink ? true : false;\n\t\treturn false;\n\t},\n\tasync isExist(p: string, resolveSymlink = true): Promise<boolean> {\n\t\tlet fileType = await FileUtils.getFileType(p, true);\n\t\tif (fileType === 'not-exist') return false;\n\t\t//biome-ignore lint/complexity/noUselessTernary:\n\t\tif (fileType === 'symlink-not-exist') return resolveSymlink ? false : true;\n\t\treturn true;\n\t},\n\t//\n\tasync chmod(p: string, mode: string | number): Promise<boolean> {\n\t\ttry {\n\t\t\tawait fsPromises.chmod(p, mode);\n\t\t\treturn true;\n\t\t} catch (e) {}\n\t\treturn false;\n\t},\n\tasync mkdir(p: string, mode?: string | number): Promise<boolean> {\n\t\ttry {\n\t\t\tawait fsPromises.mkdir(p, { recursive: true });\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t\t//\n\t\tif (mode) await FileUtils.chmod(p, mode);\n\t\t//\n\t\treturn true;\n\t},\n\tasync getdirFiles(\n\t\tp: string,\n\t\tprefix = '',\n\t\tignores: any = undefined,\n\t\tmaxDepth = Number.POSITIVE_INFINITY,\n\t\tdepth = 1\n\t): Promise<string[]> {\n\t\tlet files: string[];\n\t\ttry {\n\t\t\tfiles = await fsPromises.readdir(p);\n\t\t} catch (e) {\n\t\t\tif (e.code === 'ENOENT') return [];\n\t\t\tthrow e;\n\t\t}\n\t\t//\n\t\tlet result: string[] = [];\n\t\tfor (let f of files) {\n\t\t\tlet currentDir = path.join(p, f);\n\t\t\tlet stat = await fsPromises.lstat(currentDir);\n\t\t\tif (stat.isDirectory()) {\n\t\t\t\tif (depth < maxDepth) {\n\t\t\t\t\tresult.push(...(await FileUtils.getdirFiles(currentDir, path.join(prefix, f), ignores, maxDepth, depth + 1)));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (ignores?.length) {\n\t\t\t\t\tlet shouldIgnore = false;\n\t\t\t\t\tfor (let ignore of ignores) {\n\t\t\t\t\t\tif (typeof ignore === 'string') {\n\t\t\t\t\t\t\tif (f === ignore || f.endsWith(ignore)) {\n\t\t\t\t\t\t\t\tshouldIgnore = true;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (ignore instanceof RegExp) {\n\t\t\t\t\t\t\tif (ignore.test(f)) {\n\t\t\t\t\t\t\t\tshouldIgnore = true;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (shouldIgnore) continue;\n\t\t\t\t}\n\t\t\t\tresult.push(path.join(prefix, f));\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t},\n\t//处理文件名\n\tgetCharCodeLength(charCode: number) {\n\t\tif (charCode <= 0x007f) return 1;\n\t\tif (charCode <= 0x07ff) return 2;\n\t\tif (charCode <= 0xffff) return 3;\n\t\treturn 4;\n\t},\n\tgetPathNameLength(pathName: string) {\n\t\tlet total = 0;\n\t\tfor (let i = 0, len = pathName.length; i < len; i++) {\n\t\t\ttotal += FileUtils.getCharCodeLength(pathName.charCodeAt(i));\n\t\t}\n\t\treturn total;\n\t},\n\ttruncatePathName(fileName: string, maxLength = 180) {\n\t\t//最多maxLength个字节\n\t\tlet ns = '';\n\t\tlet total = 0;\n\t\tfor (let i = 0, len = fileName.length; i < len; i++) {\n\t\t\tlet add = FileUtils.getCharCodeLength(fileName.charCodeAt(i));\n\t\t\tif (total + add <= maxLength) {\n\t\t\t\tns += fileName.charAt(i);\n\t\t\t\ttotal += add;\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn ns;\n\t},\n\t//删除文件/文件夹\n\tasync rm(p: string, rmEmptyDirOnly = false): Promise<boolean> {\n\t\tconst fileType = await this.getFileType(p, false);\n\n\t\t// 1. 目录 & 只删空目录 模式\n\t\tif (fileType === 'directory' && rmEmptyDirOnly) {\n\t\t\ttry {\n\t\t\t\t// rmdir 只会删除空目录，目录非空则抛 ENOTEMPTY\n\t\t\t\tawait fsPromises.rmdir(p);\n\t\t\t\treturn true;\n\t\t\t} catch (err: any) {\n\t\t\t\t// 删除失败（可能非空、权限等），都返回 false\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\t// 2. 其它情况：文件、链接，或递归强制删除目录\n\t\ttry {\n\t\t\tawait fsPromises.rm(p, { recursive: true, force: true });\n\t\t\treturn true;\n\t\t} catch (err: any) {\n\t\t\treturn false;\n\t\t}\n\t},\n\tasync rename(\n\t\tsrc: string, //可能是文件或者文件夹\n\t\tdest: string,\n\t\texistsPolicy: 'replace' | 'rename' | 'raiseExecption' | 'mergeReplace' | 'mergeRename' | 'mergeRaiseExecption',\n\t\t{ srcType, destType }: { srcType: any; destType: any } = {} as any\n\t): Promise<string | undefined> {\n\t\t//如果来源和目标相同\n\t\tif (src === dest) return dest;\n\t\t//如果src不存在，则直接退出\n\t\tif (srcType === undefined) srcType = await FileUtils.getFileType(src, false);\n\t\tif (srcType === 'not-exist') return;\n\t\t//如果目标位置不存在，直接移动即可\n\t\tif (destType === undefined) destType = await FileUtils.getFileType(dest, false);\n\t\tif (destType === 'not-exist') {\n\t\t\tawait FileUtils.mkdir(path.dirname(dest), 0o777);\n\t\t\tawait fsPromises.rename(src, dest);\n\t\t\treturn dest;\n\t\t}\n\t\t//dest路径已存在\n\t\tif (existsPolicy === 'raiseExecption') throw new Error(`${dest} is exists`);\n\t\tif (existsPolicy === 'replace') {\n\t\t\tawait FileUtils.rm(dest, false);\n\t\t\tawait fsPromises.rename(src, dest);\n\t\t\treturn dest;\n\t\t}\n\t\tif (existsPolicy === 'rename') {\n\t\t\tlet descNew = '';\n\t\t\t//\n\t\t\tlet destPathObject = path.parse(dest);\n\t\t\tlet destCombinds = [];\n\t\t\tif (srcType !== 'directory') {\n\t\t\t\tdestCombinds[0] = `${destPathObject.name}`;\n\t\t\t\tdestCombinds[2] = `${destPathObject.ext}`;\n\t\t\t} else {\n\t\t\t\tdestCombinds[0] = `${destPathObject.base}`;\n\t\t\t}\n\t\t\tlet descCounter = 1;\n\t\t\twhile (true) {\n\t\t\t\tdestCombinds[1] = `_${`${descCounter}`.padStart(2, '0')}`;\n\t\t\t\tdescNew = path.join(destPathObject.dir, destCombinds.join(''));\n\t\t\t\tif (!(await FileUtils.isExist(descNew))) break;\n\t\t\t\tdescCounter++;\n\t\t\t}\n\t\t\tawait fsPromises.rename(src, descNew);\n\t\t\treturn descNew;\n\t\t}\n\t\t//\n\t\tif (srcType === 'directory' && srcType === destType && existsPolicy.startsWith('merge')) {\n\t\t\tlet fileExistsPolicy: any = existsPolicy.replace('merge', '');\n\t\t\tfileExistsPolicy = `${fileExistsPolicy[0].toLowerCase()}${fileExistsPolicy.substring(1)}`;\n\t\t\t//\n\t\t\tfor (let file of await fsPromises.readdir(src)) {\n\t\t\t\tlet srcPath = path.resolve(src, file);\n\t\t\t\tlet destPath = path.resolve(dest, file);\n\t\t\t\tlet options = {\n\t\t\t\t\tsrcType: await FileUtils.getFileType(srcPath),\n\t\t\t\t\tdestType: await FileUtils.getFileType(destPath),\n\t\t\t\t};\n\t\t\t\tlet policy = fileExistsPolicy;\n\t\t\t\tif (options.srcType === 'directory' && options.srcType === options.destType) policy = existsPolicy;\n\t\t\t\t//console.log(srcPath, destPath, policy, options);\n\t\t\t\tawait FileUtils.rename(srcPath, destPath, policy, options);\n\t\t\t}\n\t\t\t//删除原始文件夹\n\t\t\tawait FileUtils.rm(src, false);\n\t\t\t//\n\t\t\treturn dest;\n\t\t}\n\t},\n\t//文件读写\n\tasync writeFile(p: string, data: any, options?: fs.WriteFileOptions) {\n\t\tlet mode: any;\n\t\tif (options && typeof options !== 'string' && options.mode !== undefined) mode = options.mode;\n\t\tawait FileUtils.mkdir(path.dirname(p), mode);\n\t\tawait fsPromises.writeFile(p, data, options);\n\t},\n\tasync writeJSONFile(p: string, data: any, jsonSpace?: number, options?: fs.WriteFileOptions) {\n\t\treturn FileUtils.writeFile(p, JSON.stringify(data, undefined, jsonSpace), options);\n\t},\n\tasync readFile(p: string, options?: { encoding?: null; flag?: string }): Promise<any> {\n\t\treturn fsPromises.readFile(p, options);\n\t},\n\tasync readTxtFile(p: string, options?: { encoding?: null; flag?: string }) {\n\t\treturn (await fsPromises.readFile(p, options)).toString();\n\t},\n\tasync readJSONFile(p: string, options?: { encoding?: null; flag?: string }): Promise<any> {\n\t\tconst content = (await fsPromises.readFile(p, options)).toString();\n\t\treturn content ? JSON.parse(content) : undefined;\n\t},\n};\n","// https://github.com/thinkjs/think-helper#43d7b132a47248ebb403a01901936c480906e8a0\n// The MIT License(MIT)\n\n// Copyright(c) 2017 ThinkJS\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files(the \"Software\"), to deal\n//     in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n//     FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n//     OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n\nimport net from 'node:net';\n\nexport const NetUtils = {\n\tisIP: net.isIP,\n\tisIPv4: net.isIPv4,\n\tisIPv6: net.isIPv6,\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking export functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\n// https://github.com/thinkjs/think-helper#43d7b132a47248ebb403a01901936c480906e8a0\n// The MIT License(MIT)\n\n// Copyright(c) 2017 ThinkJS\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files(the \"Software\"), to deal\n//     in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n//     FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n//     OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n\nexport const ObjectUtils = {\n\tobjectToString(o: any) {\n\t\treturn Object.prototype.toString.call(o);\n\t},\n\n\thasOwn(obj: any, key: any) {\n\t\treturn Object.prototype.hasOwnProperty.call(obj, key);\n\t},\n\n\tisArray(arg: any) {\n\t\tif (Array.isArray) {\n\t\t\treturn Array.isArray(arg);\n\t\t}\n\t\treturn ObjectUtils.objectToString(arg) === '[object Array]';\n\t},\n\tisBoolean(arg: any) {\n\t\treturn typeof arg === 'boolean';\n\t},\n\tisNull(arg: any) {\n\t\treturn arg === null;\n\t},\n\tisNullOrUndefined(arg: any) {\n\t\treturn arg == null || arg === undefined;\n\t},\n\tisNumber(arg: any) {\n\t\treturn typeof arg === 'number';\n\t},\n\tisInt(value: any) {\n\t\tif (isNaN(value) || ObjectUtils.isString(value)) {\n\t\t\treturn false;\n\t\t}\n\t\tconst x = Number.parseFloat(value);\n\t\treturn (x | 0) === x;\n\t},\n\tisString(arg: any) {\n\t\treturn typeof arg === 'string';\n\t},\n\tisSymbol(arg: any) {\n\t\treturn typeof arg === 'symbol';\n\t},\n\tisUndefined(arg: any) {\n\t\treturn arg === void 0;\n\t},\n\tisRegExp(re: any) {\n\t\treturn ObjectUtils.objectToString(re) === '[object RegExp]';\n\t},\n\tisObject(arg: any) {\n\t\treturn typeof arg === 'object' && arg !== null;\n\t},\n\tisTrueObject(obj: any) {\n\t\treturn toString.call(obj) === '[object Object]';\n\t},\n\tisDate(d: any) {\n\t\treturn ObjectUtils.objectToString(d) === '[object Date]';\n\t},\n\tisError(e: any) {\n\t\treturn ObjectUtils.objectToString(e) === '[object Error]' || e instanceof Error;\n\t},\n\tisFunction(arg: any) {\n\t\treturn typeof arg === 'function';\n\t},\n\tisAsyncFcuntion(fn: any) {\n\t\tconst AsyncFunction = Object.getPrototypeOf(async () => {}).constructor;\n\t\treturn fn instanceof AsyncFunction;\n\t},\n\tisPrimitive(arg: any) {\n\t\treturn (\n\t\t\targ === null ||\n\t\t\ttypeof arg === 'boolean' ||\n\t\t\ttypeof arg === 'number' ||\n\t\t\ttypeof arg === 'string' ||\n\t\t\ttypeof arg === 'symbol' || // ES6 symbol\n\t\t\ttypeof arg === 'undefined'\n\t\t);\n\t},\n\tisBuffer(arg: any): any {\n\t\treturn Buffer.isBuffer(arg);\n\t},\n\n\t// 把一个方法Promise化\n\tdefer() {\n\t\tconst deferred: any = {};\n\t\tdeferred.promise = new Promise((resolve, reject) => {\n\t\t\tdeferred.resolve = resolve;\n\t\t\tdeferred.reject = reject;\n\t\t});\n\t\treturn deferred;\n\t},\n\n\textend(target: any = {}, ...args: any) {\n\t\tlet i = 0;\n\t\tconst length = args.length;\n\t\tlet options: any;\n\t\tlet name: any;\n\t\tlet src: any;\n\t\tlet copy: any;\n\t\tif (!target) {\n\t\t\ttarget = ObjectUtils.isArray(args[0]) ? [] : {};\n\t\t}\n\t\tfor (; i < length; i++) {\n\t\t\toptions = args[i];\n\t\t\tif (!options) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = target[name];\n\t\t\t\tcopy = options[name];\n\t\t\t\tif (src && src === copy) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (ObjectUtils.isArray(copy)) {\n\t\t\t\t\ttarget[name] = ObjectUtils.extend([], copy);\n\t\t\t\t} else if (ObjectUtils.isTrueObject(copy)) {\n\t\t\t\t\ttarget[name] = ObjectUtils.extend(src && ObjectUtils.isTrueObject(src) ? src : {}, copy);\n\t\t\t\t} else {\n\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn target;\n\t},\n\n\tisTrueEmpty(obj: any) {\n\t\tif (obj === undefined || obj === null || obj === '') return true;\n\t\tif (ObjectUtils.isNumber(obj) && isNaN(obj)) return true;\n\t\treturn false;\n\t},\n\tisEmpty(obj: any) {\n\t\tif (ObjectUtils.isTrueEmpty(obj)) return true;\n\t\tif (ObjectUtils.isRegExp(obj)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (ObjectUtils.isDate(obj)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (ObjectUtils.isError(obj)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (ObjectUtils.isArray(obj)) {\n\t\t\treturn obj.length === 0;\n\t\t}\n\t\tif (ObjectUtils.isString(obj)) {\n\t\t\treturn obj.length === 0;\n\t\t}\n\t\tif (ObjectUtils.isNumber(obj)) {\n\t\t\treturn obj === 0;\n\t\t}\n\t\tif (ObjectUtils.isBoolean(obj)) {\n\t\t\treturn !obj;\n\t\t}\n\t\tif (ObjectUtils.isObject(obj)) {\n\t\t\tfor (const key in obj) {\n\t\t\t\treturn false && key; // only for eslint\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tomit(obj: any, props: any[] | string) {\n\t\tif (ObjectUtils.isString(props)) {\n\t\t\tprops = (props as string).split(',');\n\t\t}\n\t\tconst keys = Object.keys(obj);\n\t\tconst result: any = {};\n\t\tfor (const item of keys) {\n\t\t\tif (props.indexOf(item) === -1) {\n\t\t\t\tresult[item] = obj[item];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t},\n\n\tisShallowEqual(obj1: any, obj2: any): boolean {\n\t\tif (obj1 === obj2) return true;\n\n\t\tif (typeof obj1 !== 'object' || obj1 === null || typeof obj2 !== 'object' || obj2 === null) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst keys1 = Object.keys(obj1);\n\t\tconst keys2 = Object.keys(obj2);\n\n\t\tif (keys1.length !== keys2.length) return false;\n\n\t\tfor (const key of keys1) {\n\t\t\tif (!obj2.hasOwnProperty(key) || obj1[key] !== obj2[key]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t},\n};\n","// https://github.com/thinkjs/think-helper#43d7b132a47248ebb403a01901936c480906e8a0\n// The MIT License(MIT)\n\n// Copyright(c) 2017 ThinkJS\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files(the \"Software\"), to deal\n//     in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n//     FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n//     OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n\nconst numberReg = /^((-?(\\d+\\.|\\d+|\\.\\d)\\d*(?:e[+-]?\\d*(?:\\d?\\.?|\\.?\\d?)\\d*)?)|(0[0-7]+)|(0x[0-9a-f]+))$/i;\n\nexport const StringUtils = {\n\tcamelCase(str: string) {\n\t\tif (str.indexOf('_') > -1) {\n\t\t\tstr = str.replace(/_(\\w)/g, (a, b) => {\n\t\t\t\treturn b.toUpperCase();\n\t\t\t});\n\t\t}\n\t\treturn str;\n\t},\n\n\tsnakeCase(str: string) {\n\t\treturn str.replace(/([^A-Z])([A-Z])/g, ($0, $1, $2) => {\n\t\t\treturn `${$1}_${$2.toLowerCase()}`;\n\t\t});\n\t},\n\n\tisNumberString(obj: string) {\n\t\tif (!obj) return false;\n\t\treturn numberReg.test(obj);\n\t},\n\n\tfillZero(s: any, bits: number) {\n\t\ts = s.toString();\n\t\twhile (s.length < bits) s = `0${s}`;\n\t\treturn s;\n\t},\n\n\t// escapeHtml(str: string) {\n\t//     return (str + '').replace(/[<>'\"]/g, a => {\n\t//         switch (a) {\n\t//             case '<':\n\t//                 return '&lt;';\n\t//             case '>':\n\t//                 return '&gt;';\n\t//             case '\"':\n\t//                 return '&quote;';\n\t//             case '\\'':\n\t//                 return '&#39;';\n\t//         }\n\t//     });\n\t// }\n};\n","// https://github.com/thinkjs/think-helper#43d7b132a47248ebb403a01901936c480906e8a0\n// The MIT License(MIT)\n\n// Copyright(c) 2017 ThinkJS\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files(the \"Software\"), to deal\n//     in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n//     FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n//     OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n\nimport cluster from 'node:cluster';\n\nexport const ThreadUtils = {\n\tisMaster: cluster.isPrimary,\n\tisPrimary: cluster.isPrimary,\n};\n","// https://github.com/thinkjs/think-helper#43d7b132a47248ebb403a01901936c480906e8a0\n// The MIT License(MIT)\n\n// Copyright(c) 2017 ThinkJS\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files(the \"Software\"), to deal\n//     in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n//     FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n//     OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n\nimport ms from 'ms';\nimport { ObjectUtils } from './ObjectUtils';\n\nexport const TimeUtils = {\n\ttimeout(time = 1000) {\n\t\treturn new Promise((resolve) => {\n\t\t\tsetTimeout(resolve, time);\n\t\t});\n\t},\n\n\tasync sleep(time: number) {\n\t\tawait new Promise((resolve) => setTimeout(resolve, time));\n\t},\n\n\tdatetime(date: Date | string, format: string) {\n\t\tif (!date) {\n\t\t\tdate = new Date();\n\t\t} else if (ObjectUtils.isString(date)) {\n\t\t\tconst dateString = date as string;\n\t\t\tdate = new Date(Date.parse(dateString));\n\n\t\t\tif (isNaN(date.getTime()) && !format) {\n\t\t\t\tformat = dateString;\n\t\t\t\tdate = new Date();\n\t\t\t}\n\t\t}\n\t\tformat = format || 'YYYY-MM-DD HH:mm:ss';\n\n\t\tconst fn = (d: number) => `0${d}`.slice(-2);\n\t\tconst d = new Date(date);\n\t\tconst formats: any = {\n\t\t\tYYYY: d.getFullYear(),\n\t\t\tMM: fn(d.getMonth() + 1),\n\t\t\tDD: fn(d.getDate()),\n\t\t\tHH: fn(d.getHours()),\n\t\t\tmm: fn(d.getMinutes()),\n\t\t\tss: fn(d.getSeconds()),\n\t\t};\n\n\t\treturn format.replace(/([a-z])\\1+/gi, (a) => {\n\t\t\treturn formats[a] || a;\n\t\t});\n\t},\n\n\tms(time: any) {\n\t\tif (typeof time === 'number') return time;\n\t\tconst result = ms(time);\n\t\tif (result === undefined) {\n\t\t\tthrow new Error(`ms('${time}') result is undefined`);\n\t\t}\n\t\treturn result;\n\t},\n};\n"],"names":["md5","sha256","v1","v4"],"mappings":"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"}